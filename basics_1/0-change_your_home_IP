#!/usr/bin/env bash
# This script configures /etc/hosts to make localhost resolve to 127.0.0.2
# and facebook.com resolve to 8.8.8.8

HOSTS_FILE="/etc/hosts"

# Configure localhost
# Remove any existing lines that define 'localhost' as a hostname.
# The \b ensures 'localhost' is a whole word match.
sed -i '/\blocalhost\b/d' "$HOSTS_FILE"
# Add the new entry for localhost.
echo "127.0.0.2 localhost" >> "$HOSTS_FILE"

# Configure facebook.com
# Remove any existing lines that define 'facebook.com' as a hostname.
# The \b ensures 'facebook.com' is a whole word match. Dot is escaped.
sed -i '/\bfacebook\.com\b/d' "$HOSTS_FILE"
# Add the new entry for facebook.com.
echo "8.8.8.8 facebook.com" >> "$HOSTS_FILE" 